<div ng-class="view.classes" loading="view.loading">

    <ng-form class="master-form flex-box-column flex-one" name="form.tool" ng-submit="create()">

        <div class="heading">

            <a ng-href="#/apps" class="btn btn-default pull-left go-back"><i class="fa fa-chevron-left"></i> Back</a>

            <h1>
                <div class="form-group tool-name">
                    <input type="text" placeholder="Tool Name" ng-model="view.tool.label" name="label" class="form-control" required />
                </div>
                <div class="actions pull-right">

                    <button type="submit" ng-if="view.user" ng-disabled="view.saving" class="app-create-btn btn btn-primary"><i class="fa fa-plus"></i> Create</button>

                    <div class="btn-group" role="group">
                        <json-preview title="Tool JSON" json="{{ view.tool }}"></json-preview>
                        <json-preview title="Job JSON" json="{{ view.job }}"></json-preview>
                    </div>

                    <div class="btn-group right" ng-class="{open: view.isMenuOpen}">
                        <button type="button" ng-click="toggleMenu()" class="btn btn-default dropdown-toggle">
                            <i class="fa fa-cog"></i>
                            <span class="caret"></span>
                        </button>
                        <ul class="dropdown-menu" role="menu" ng-click="toggleMenu()">
                            <li><a href ng-click="loadMarkdown()"><i class="fa fa-ellipsis-h"></i> <span>Description</span></a></li>
                            <li><a href ng-click="loadJsonEditor()"><i class="fa fa-cloud-download"></i> <span>Import</span></a></li>
                        </ul>
                    </div>
                </div>
                <!-- # .actions -->
            </h1>

        </div>
        <!-- # .heading -->

        <div class="heading sub-heading">
            <ul class="nav nav-tabs nav-tabs-steps regular">
                <li ng-class="{active: view.tab === 'general'}"><a href ng-click="switchTab('general')">General</a></li>
                <li ng-class="{active: view.tab === 'inputs'}"><a href ng-click="switchTab('inputs')">Inputs</a></li>
                <li ng-class="{active: view.tab === 'outputs'}"><a href ng-click="switchTab('outputs')">Outputs</a></li>
                <li ng-hide="view.tool.transform" ng-class="{active: view.tab === 'adapter'}"><a href ng-click="switchTab('adapter')">Adapter</a></li>
                <li ng-hide="view.tool.transform" ng-class="{active: view.tab === 'test'}"><a href ng-click="switchTab('test')">Test</a></li>
            </ul>
            <a href class="btn btn-flush btn-flush-cliche" title="Start with clean template" ng-click="flush()"><i class="fa fa-trash"></i></a>
        </div>
        <!-- # .heading -->

        <div ng-if="!view.loading" class="content content-tbl flex-box-column">

            <div ng-show="view.tab === 'general'" class="tab general flex-box-column flex-one">
                <ng-include class="include flex-box-column flex-one" src="'views/cliche/tabs/general.html'"></ng-include>
            </div>

            <div ng-show="view.tab === 'inputs'" class="tab inputs flex-box-column flex-one">
                <ng-include class="include flex-box-column flex-one" src="'views/cliche/tabs/inputs.html'"></ng-include>
            </div>

            <div ng-show="view.tab === 'outputs'" class="tab outputs flex-box-column flex-one">
                <ng-include class="include flex-box-column flex-one" src="'views/cliche/tabs/outputs.html'"></ng-include>
            </div>

            <div ng-if="!view.tool.transform" ng-show="view.tab === 'adapter'" class="tab adapter flex-box-column flex-one">
                <ng-include class="include flex-box-column flex-one" src="'views/cliche/tabs/adapter.html'"></ng-include>
            </div>

        </div>

    </ng-form>
</div>