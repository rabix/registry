<div ng-class="view.classes" loading="view.loading" class="pipeline-preview">

    <div class="heading">
        <a ng-href="#/pipelines" class="btn btn-default pull-left go-back"><i class="fa fa-chevron-left"></i> Back</a>
        <h1>
            {{ view.pipeline.name }} <span class="pipeline-repo">({{view.pipeline.pipeline.repo.owner}}/{{view.pipeline.pipeline.repo.name}})</span>
            <a ng-href="#/pipeline/{{ view.pipeline._id }}/edit" class="btn btn-primary pull-right"><i class="fa fa-pencil"></i> Edit</a>
        </h1>
    </div>
    <!-- # .heading -->

    <div class="content">

        <div ng-if="view.revisions.length > 0" class="nav nav-pills nav-page">
            <li ng-class="{active: view.tab === 'info'}"><a href="" ng-click="switchTab('info')">Info</a></li>
            <li ng-class="{active: view.tab === 'revisions'}"><a href="" ng-click="switchTab('revisions')">Revisions</a></li>
        </div>

        <section ng-show="view.tab === 'info'">
            <div pipeline="view.pipeline"></div>
        </section>

        <section ng-if="view.tab === 'revisions'">

            <table class="table table-hover revisions">
                <thead>
                <tr>
                    <th>Revision</th>
                    <th>Name</th>
                    <th>Description</th>
                </tr>
                </thead>
                <tbody>
                <tr ng-repeat="revision in view.revisions">
                    <td class="revision">
                        <strong ng-class="{'label label-primary': revision.is_public}">
                            <i class="fa fa-tag"></i>
                            {{ 'v' + revision.version }}
                        </strong>
                    </td>
                    <td><a ng-href="#/pipeline/{{ revision._id }}">{{ revision.name }}</a></td>
                    <td><p tooltip="{{ revision.description }}" tooltip-popup-delay="1000">{{ revision.description }}</p></td>
                </tr>
                <tr class="empty" ng-if="view.revisions.length === 0">
                    <td colspan="4"><p class="alert alert-info">There are no revisions for this workflow</p></td>
                </tr>
                </tbody>
            </table>

        </section>

    </div>
    <!-- # .content -->

</div>